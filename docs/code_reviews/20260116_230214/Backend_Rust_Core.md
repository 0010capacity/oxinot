Loaded cached credentials.
## ğŸ¦€ Rust ì½”ì–´ ì‹œìŠ¤í…œ ë¦¬ë·°

### âš ï¸ ì‹¬ê°ë„ ë†’ìŒ (High Priority)
í˜„ì¬ ì½”ë“œì—ì„œ ëŸ°íƒ€ì„ íŒ¨ë‹‰ì´ë‚˜ ë°ë“œë½ì„ ìœ ë°œí•  ë§Œí•œ ì¹˜ëª…ì ì¸ ë¬¸ì œëŠ” ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

### âš¡ ì‹¬ê°ë„ ì¤‘ê°„ (Medium Priority)

**1. [src-tauri/src/services/wiki_link_parser.rs:86-87] ë¶ˆí•„ìš”í•œ ë©”ëª¨ë¦¬ í• ë‹¹ ë° ë³µì‚¬**
`mask_code_blocks` í•¨ìˆ˜ì—ì„œ `content.chars().collect()`ë¡œ `Vec<char>`ë¥¼ í• ë‹¹í•˜ê³ , ë°”ë¡œ ë‹¤ìŒ ë¼ì¸ì—ì„œ `.clone()`ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê¸´ ë¬¸ì„œì˜ ê²½ìš° ë¶ˆí•„ìš”í•˜ê²Œ í™ ë©”ëª¨ë¦¬ë¥¼ ë‘ ë°°ë¡œ ì‚¬ìš©í•˜ë©° ì„±ëŠ¥ ì €í•˜ë¥¼ ì¼ìœ¼í‚µë‹ˆë‹¤.

*   **í•´ê²° ë°©ë²•:** `clone()`ì„ ì œê±°í•˜ê³  ê°€ë³€ ë²¡í„° í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ì—¬ ìˆ˜ì •í•˜ê±°ë‚˜, `mask` ì²˜ë¦¬ê°€ í•„ìš”í•œ êµ¬ê°„(ì¸ë±ìŠ¤)ë§Œ ê³„ì‚°í•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.

**2. [src-tauri/src/services/wiki_link_index.rs:113-121] ëŒ€ëŸ‰ ë°ì´í„° ë©”ëª¨ë¦¬ ë¡œë“œ ìœ„í—˜**
`reindex_all_links` í•¨ìˆ˜ì—ì„œ ëª¨ë“  ë¸”ë¡ì˜ ì½˜í…ì¸ (`content`)ë¥¼ `query_map`ì„ í†µí•´ ê°€ì ¸ì˜¨ ë’¤ `collect()`ë¡œ ë©”ëª¨ë¦¬ì— í•œ ë²ˆì— ì ì¬í•©ë‹ˆë‹¤. ë…¸íŠ¸ ì–‘ì´ ë§ì•„ì§ˆ ê²½ìš°(ìˆ˜ë§Œ ê°œ ì´ìƒ) OOM(Out of Memory) ë°œìƒ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤. SQLiteì˜ borrow checker ì œì•½ ë•Œë¬¸ì— `collect`ë¥¼ ì‚¬ìš©í•œ ê²ƒìœ¼ë¡œ ë³´ì´ë‚˜, ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ì—ì„œëŠ” ìœ„í—˜í•©ë‹ˆë‹¤.

*   **í•´ê²° ë°©ë²•:** `LIMIT`ê³¼ `OFFSET`ì„ ì‚¬ìš©í•œ **í˜ì´ì§€ë„¤ì´ì…˜(Batch Processing)** ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ í•œ ë²ˆì— ì¼ì •ëŸ‰(ì˜ˆ: 1000ê°œ)ì˜ ë¸”ë¡ë§Œ ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ê³  ì²˜ë¦¬í•˜ë„ë¡ ë£¨í”„ë¥¼ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤.

**3. [src-tauri/src/lib.rs:252-263] íŒŒì¼ì‹œìŠ¤í…œê³¼ DB ê°„ì˜ ì›ìì„±(Atomicity) ë³´ì¥ ë¶€ì¡±**
`delete_path_with_db` í•¨ìˆ˜ì—ì„œ DBì˜ `is_deleted`ë¥¼ ì—…ë°ì´íŠ¸í•œ í›„ íŒŒì¼ ì‚­ì œë¥¼ ì‹œë„í•©ë‹ˆë‹¤. íŒŒì¼ ì‚­ì œ ì‹¤íŒ¨ ì‹œ DBë¥¼ ë¡¤ë°±í•˜ë ¤ê³  í•˜ì§€ë§Œ, ë§Œì•½ íŒŒì¼ ì‚­ì œ ë„ì¤‘ í”„ë¡œì„¸ìŠ¤ê°€ ê°•ì œ ì¢…ë£Œë˜ë©´ DBëŠ” 'ì‚­ì œë¨' ìƒíƒœì§€ë§Œ íŒŒì¼ì€ ë‚¨ì•„ìˆëŠ” ë¶ˆì¼ì¹˜ ìƒíƒœ(Inconsistency)ê°€ ë°œìƒí•©ë‹ˆë‹¤.

*   **í•´ê²° ë°©ë²•:** ì™„ë²½í•œ ë¶„ì‚° íŠ¸ëœì­ì…˜ì€ ì–´ë µì§€ë§Œ, íŒŒì¼ ì‚­ì œë¥¼ ë¨¼ì € ìˆ˜í–‰í•˜ê³  ì„±ê³µ ì‹œ DB íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ê±°ë‚˜, "ì‚­ì œ ì˜ˆì •" ìƒíƒœë¥¼ ë³„ë„ë¡œ ë‘ì–´ ì•± ì‹œì‘ ì‹œ ë³µêµ¬í•˜ëŠ” ë¡œì§(WAL íŒ¨í„´ ìœ ì‚¬)ì„ ë„ì…í•˜ëŠ” ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤.

### ğŸ’¡ ê¸°ì¡´ ì½”ë“œ ê°œì„  ì œì•ˆ (Code Improvements)

**[src-tauri/src/services/wiki_link_parser.rs] `mask_code_blocks` ìµœì í™”**

ë¶ˆí•„ìš”í•œ `clone`ì„ ì œê±°í•˜ê³  ë‹¨ì¼ íŒ¨ìŠ¤ë¡œ ì²˜ë¦¬í•˜ë„ë¡ ê°œì„ í•©ë‹ˆë‹¤.

**Before:**
```rust
fn mask_code_blocks(content: &str) -> String {
    let chars: Vec<char> = content.chars().collect();
    let mut result_chars = chars.clone(); // âš ï¸ ë¶ˆí•„ìš”í•œ ë³µì‚¬

    let mut i = 0;
    while i < chars.len() {
        // ... ì¸ë±ìŠ¤ ê¸°ë°˜ ì ‘ê·¼ ë° result_chars ìˆ˜ì •
    }
    result_chars.into_iter().collect()
}
```

**After:**
```rust
fn mask_code_blocks(content: &str) -> String {
    // í•œ ë²ˆë§Œ í• ë‹¹í•˜ì—¬ ê°€ë³€ ë²¡í„°ë¡œ ì‚¬ìš©
    let mut chars: Vec<char> = content.chars().collect();
    let len = chars.len();
    let mut i = 0;

    while i < len {
        if i + 2 < len && chars[i] == '`' && chars[i + 1] == '`' && chars[i + 2] == '`' {
            let start = i;
            i += 3;
            // ì¢…ë£Œ íŒ¨í„´ ì°¾ê¸°
            while i + 2 < len {
                if chars[i] == '`' && chars[i + 1] == '`' && chars[i + 2] == '`' {
                    i += 3; // ë‹«ëŠ” ë¶€ë¶„ ìŠ¤í‚µ
                    break;
                }
                // ë‚´ìš© ë§ˆìŠ¤í‚¹ (ë‹«ëŠ” ë°±í‹± ì°¾ê¸° ì „ê¹Œì§€ ì§„í–‰í•˜ë©´ì„œ ë§ˆìŠ¤í‚¹)
                chars[i] = ' '; 
                i += 1;
            }
            // ì‹œì‘ê³¼ ëì˜ ë°±í‹± ë¶€ë¶„ë„ ë§ˆìŠ¤í‚¹ (ì›ë˜ ë¡œì§ ìœ ì§€ ì‹œ)
            // ì°¸ê³ : ì›ë³¸ ë¡œì§ì€ ë²”ìœ„ ë£¨í”„ë¥¼ ë‹¤ì‹œ ëŒë ¸ìœ¼ë‚˜, ì—¬ê¸°ì„œ ì§ì ‘ ì²˜ë¦¬ ê°€ëŠ¥
            for j in start..std::cmp::min(i, len) {
                chars[j] = ' ';
            }
        } else if chars[i] == '`' {
            // ì¸ë¼ì¸ ì½”ë“œ ì²˜ë¦¬ ë¡œì§ (ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ìµœì í™” ê°€ëŠ¥)
            // ...
             i += 1;
        } else {
            i += 1;
        }
    }

    chars.into_iter().collect()
}
```
*ì„¤ëª…: ì›ë³¸ ì½”ë“œëŠ” ì½ê¸°ìš© `chars`ì™€ ì“°ê¸°ìš© `result_chars`ë¥¼ ë”°ë¡œ ë‘ì—ˆìœ¼ë‚˜, ì¸ë±ìŠ¤ `i`ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì¦ê°€í•˜ë¯€ë¡œ ë‹¨ì¼ ë²¡í„° ë‚´ì—ì„œ ì½ê³  ì“°ê¸°ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.*

### ğŸš€ ìƒˆë¡œìš´ ê¸°ëŠ¥ ì œì•ˆ (Feature Suggestions)

í˜„ì¬ ì‹œìŠ¤í…œì€ Tauri ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë  ë•Œë§Œ íŒŒì¼ì‹œìŠ¤í…œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  DBë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì™¸ë¶€ ì—ë””í„°(VS Code, Obsidian ë“±)ì—ì„œ íŒŒì¼ì„ ìˆ˜ì •í•  ê²½ìš° ë©”íƒ€ë°ì´í„° ì‹±í¬ê°€ ê¹¨ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**1. íŒŒì¼ ì‹œìŠ¤í…œ ê°ì‹œ (File Watcher) ë„ì…**
- **ê¸°ëŠ¥ ì„¤ëª…:** `notify` í¬ë ˆì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ ìƒì„±, ìˆ˜ì •, ì‚­ì œ, ì´ë™ ì´ë²¤íŠ¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€í•˜ê³  DB(ì¸ë±ìŠ¤)ì— ìë™ ë°˜ì˜í•©ë‹ˆë‹¤.
- **êµ¬í˜„ ë‚œì´ë„:** ë³´í†µ (ë¹„ë™ê¸° ëŸ°íƒ€ì„ ë° ë””ë°”ìš´ì‹± ì²˜ë¦¬ í•„ìš”)
- **ì˜ˆìƒ íš¨ê³¼:**
    - ì™¸ë¶€ ìˆ˜ì • ì‚¬í•­ ì‹¤ì‹œê°„ ë°˜ì˜ìœ¼ë¡œ ë°ì´í„° ë¬´ê²°ì„± í™•ë³´
    - `sync_workspace` ì˜ì¡´ë„ ê°ì†Œ ë° ì•± ë°˜ì‘ì„± í–¥ìƒ

**2. ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰(FTS) ì—”ì§„ í†µí•©**
- **ê¸°ëŠ¥ ì„¤ëª…:** í˜„ì¬ `blocks` í…Œì´ë¸” êµ¬ì¡°ë¥¼ ì•Œ ìˆ˜ ì—†ìœ¼ë‚˜, SQLiteì˜ FTS5 í™•ì¥ì„ ì‚¬ìš©í•˜ì—¬ ë¡œì»¬ ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ ì„±ëŠ¥ì„ íšê¸°ì ìœ¼ë¡œ ê°œì„ í•©ë‹ˆë‹¤.
- **êµ¬í˜„ ë‚œì´ë„:** ì‰¬ì›€ (SQL ì¿¼ë¦¬ ë° í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ë³€ê²½)
- **ì˜ˆìƒ íš¨ê³¼:** `LIKE %...%` ì¿¼ë¦¬ ëŒ€ë¹„ ì›”ë“±íˆ ë¹ ë¥¸ ê²€ìƒ‰ ì†ë„ ë° ì •í™•ë„ ì œê³µ.

**3. íŠ¸ëœì­ì…˜ ê¸°ë°˜ íŒŒì¼ ì‘ì—… (File Transaction Journal)**
- **ê¸°ëŠ¥ ì„¤ëª…:** íŒŒì¼ ì´ë™/ì´ë¦„ ë³€ê²½ê³¼ ê°™ì€ ì‘ì—… ì‹œ, ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ì „ì— 'ì €ë„'ì— ê¸°ë¡í•˜ê³ , ì‘ì—… ì™„ë£Œ í›„ ê¸°ë¡ì„ ì‚­ì œí•©ë‹ˆë‹¤. ì•± ì‹œì‘ ì‹œ ì €ë„ì„ ê²€ì‚¬í•˜ì—¬ ì¤‘ë‹¨ëœ ì‘ì—…ì„ ë¡¤ë°±í•˜ê±°ë‚˜ ì™„ë£Œí•©ë‹ˆë‹¤.
- **êµ¬í˜„ ë‚œì´ë„:** ì–´ë ¤ì›€
- **ì˜ˆìƒ íš¨ê³¼:** íŒŒì¼ì‹œìŠ¤í…œ ì‘ì—… ì¤‘ í¬ë˜ì‹œ ë°œìƒ ì‹œ ë°ì´í„° ì†ì‹¤ ë°©ì§€ ë° ë³µêµ¬ ê°€ëŠ¥ (ë†’ì€ ì•ˆì •ì„±).

# ì²­í¬ ì •ë³´
ì²­í¬ ë²ˆí˜¸: 1/1
íŒŒì¼ ëª©ë¡:
- src-tauri/src/services/wiki_link_parser.rs
- src-tauri/src/services/file_sync.rs
- src-tauri/src/services/mod.rs
- src-tauri/src/services/wiki_link_index.rs
- src-tauri/src/services/page_path_service.rs
- src-tauri/src/main.rs
- src-tauri/src/lib.rs
